<!DOCTYPE HTML>
<html>
<head>
<title>Basic GeoLocation Map</title>
<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
<script type="text/javascript">
         
   function initGeolocation()
    {
           if(navigator.geolocation)
            {
              // Call getCurrentPosition with success and failure callbacks
              navigator.geolocation.getCurrentPosition( success, fail );
            }
        else
            {
              alert("Sorry, your browser does not support geolocation services.");
               }
    }
    
    var directionDisplay;
    var directionsService = new google.maps.DirectionsService();
    var map;
    
    function success(position) {
      directionsDisplay = new google.maps.DirectionsRenderer();
      coords = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
      var myOptions = {
        zoom:12,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        center: coords
      }
      map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
      directionsDisplay.setMap(map);
      directionsDisplay.setPanel(document.getElementById('directions-panel'));
      calcRoute();
    }
    
    function calcRoute() {
      var start = coords;
      var end = "1430 Massachusetts Ave, Cambridge, MA"; //new google.maps.LatLng(35.22869, -80.84127);
      var request = {
        origin:start,
        destination:end,
        travelMode: google.maps.TravelMode.DRIVING
      };
      directionsService.route(request, function(result, status) {
        if (status == google.maps.DirectionsStatus.OK) {
          directionsDisplay.setDirections(result);
        }
      });
    }
    
	function fail()
	{
		  // Could not obtain location
	}
	</script>

<style>

#directions, #map_canvas, #directions-panel {
	box-sizing:border-box;
	-moz-box-sizing:border-box; /* Firefox */
	-webkit-box-sizing:border-box; /* Safari */
}

#map_canvas {
	width: 60%; 
	height: 500px; 
	top: 10px;
}

#directions-panel {
	height: 500px;
	float: right;
	width: 40%;
	overflow: scroll;
	padding-left: 20px;
}

</style>

<!-- acknowledgments
https://groups.google.com/forum/?fromgroups=#!topic/google-maps-js-api-v3/DCjsvbkuniM
http://html5demos.com/geo
http://jmperezperez.com/2010/07/google-maps-geolocation-directions-specific-destination/
https://google-developers.appspot.com/maps/documentation/javascript/examples/directions-panel
-->

</head>

<body onload="initGeolocation();">



<div class="pitch">
<p>Koa is a shared workspace in the heart of Harvard Square for promising
start-ups.</p>
<p>Founded in 2012 by serial entrepreneur <a href= "http://www.linkedin.com/in/andypalmer">Andy Palmer</a>, the space provides a collaborative environment to power the next generation of innovation.</p>
<p>We're proud to help strengthen Cambridge's emerging start-up ecosystem.</p>
</div>
<div id="like-sidebar">
<!-- big like box -->
<!--
<div class="fb-like-box" data-href="http://www.facebook.com/KoaLabStartUpClub?fref=ts" data-width="292" data-show-faces="true" data-stream="true" data-header="true"></div>
-->
<!-- small like box -->
<iframe src="https://www.facebook.com/plugins/like.php?href=http://www.facebook.com/KoaLabStartUpClub"
scrolling="no" frameborder="0"
style="border:none; width:100%; height:80px" align="center"></iframe>

<!-- Andy's twitter-->
<a class="twitter-timeline" href="https://twitter.com/andyhpalmer" data-widget-id="312681029817208832">Tweets by @andyhpalmer</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>


</div>




We're located in the heart of Harvard Square, 
in the historic College House right across the 
street from the T and next to Otto's Pizza.

1430 Massachusetts Avenue 
Sixth Floor 
Cambridge, MA 02138

<div id="directions">
	<div id="directions-panel"></div>
	<div id="map_canvas"></div>
</div>

</body>
</html>